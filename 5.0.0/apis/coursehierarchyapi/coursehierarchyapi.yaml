openapi: 3.0.1
info:
  title: Course Hierarchy APIs
  description: >-
    The Course Hierarchy APIs provides hierarchy releated details for course.
    The basic operations for this API include get and updtae hierarchy.
    The URL for Course Hierarchy APIs is `/course/v1`.

    - The backend URL for Course Batch Management API(s) is /v1/course.

    - [TestCases](https://app.getpostman.com/run-collection/ae789a5b3eb1aacb6e81)
  termsOfService: https://github.com/project-sunbird/sunbird-commons/blob/master/LICENSE
  contact:
    email: info@sunbird.org
  version: "1.0 - will be deprecated. Please refer to 'Collection APIs' for new APIs"
servers:
  - url: 'https://staging.open-sunbird.org/api'
paths:
  '/course/v1/hierarchy/{course-id}':
    get:
      tags:
        - Course Hierarchy APIs
      summary: Get Course Hierarchy
      description: >-
        - This API is associated with fetching the course hierarchy using a specific course ID on the Sunbird Platform.

        - The endpoint for Get Course Hierarchy is /hierarchy/{Course_ID}

        - The fields marked with an asterisk (*) are mandatory. They cannot be null or empty.
      operationId: GetCourseHierarchy
      parameters:
        - name: Content-Type
          in: header
          description: The Content Type entity is the media type of the resource.Possible media types can be:- \n  - application/json
          required: true
          style: simple
          schema:
            type: string
            example: application/json
        - name: Authorization
          in: header
          description: To make use of the API, you require authorization. Raise a request  to the administrator for the use of the API. You will receive the authorization key. Specify the key received, here.
          required: true
          style: simple
          schema:
            type: string
            example: '{{api-key}}'
        - name: x-authenticated-user-token
          in: header
          description: The alphanumeric string to access the API
          required: false
          style: simple
          schema:
            type: string
            example: '{{authToken}}'
        - name: course-id
          in: path
          description: 'identifier of course to get hierarchy'
          required: true
          style: simple
          schema:
            type: string
      responses:
        200:
          description: 'SUCCESS. The course get hierarchy operation was successful!'
          headers: {}
          content:
            application/json; charset=utf-8:
              schema:
                $ref: '#/components/schemas/coursehierarchyapiCoursegethierarchy-Success'
              example:
                id: api.course.hierarchy
                ver: 1.0
                ts: 2020-12-31T05:40:05.182Z
                params:
                  resmsgid: a27e2de0-4b2a-11eb-9b0c-abcfbdf41bc3
                  msgid: a27c5920-4b2a-11eb-9b0c-abcfbdf41bc3
                  status: successful
                  err:
                  errmsg:
                responseCode: OK
                result:
                  content:
                    ownershipType:
                      - createdBy
                    copyright: Sunbird
                    keywords:
                      - Traingle Inequality
                      - Perimeter
                    channel: b00bc992ef25f1a9a8d63291e20efc8d
                    downloadUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar
                    organisation:
                      - Sunbird
                    language:
                      - English
                    mimeType: application/vnd.ekstep.content-collection
                    variants:
                      online:
                        ecarUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540833_do_1131680608828047361113_1.0_online.ecar
                        size: 6598
                      spine:
                        ecarUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar
                        size: 109650
                    leafNodes:
                      - do_1126972421999820801361
                      - do_1126972168312832001322
                      - do_112835336960000000152
                    c_sunbird_dev_private_batch_count: 0
                    objectType: Content
                    appIcon: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_1131680608828047361113/artifact/indian-home-as-per-vastu-1366x768.thumb.jpg
                    children:
                      - ownershipType:
                          - createdBy
                        parent: do_1131680608828047361113
                        code: 92a1e47b-36d7-407c-9dbd-1d5277a58b1b
                        credentials:
                          enabled: No
                        channel: b00bc992ef25f1a9a8d63291e20efc8d
                        language:
                          - English
                        mimeType: application/vnd.ekstep.content-collection
                        idealScreenSize: normal
                        createdOn: 2020-12-08T12:12:03.749+00:00
                        objectType: Content
                        primaryCategory: Course Unit
                        children:
                          - ownershipType:
                              - createdBy
                            copyright: Sunbird
                            previewUrl: https://www.youtube.com/watch?v=dQxczxQmV_k
                            subject:
                              - Math
                            downloadUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_112835336960000000152/basic-geometrical-ideas_1566813767133_do_112835336960000000152_1.0.ecar
                            channel: b00bc992ef25f1a9a8d63291e20efc8d
                            questions: []
                            organisation:
                              - Sunbird
                            showNotification: true
                            language:
                              - English
                            variants:
                              spine:
                                ecarUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_112835336960000000152/basic-geometrical-ideas_1566813767294_do_112835336960000000152_1.0_spine.ecar
                                size: 38726
                            mimeType: video/x-youtube
                            apoc_text: APOC
                            gradeLevel:
                              - Grade 6
                            appIcon: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_112835336960000000152/artifact/06_maths_book_1566813333849.thumb.jpg
                            primaryCategory: Explanation Content
                            appId: dev.sunbird.portal
                            usesContent: []
                            artifactUrl: https://www.youtube.com/watch?v=dQxczxQmV_k
                            contentEncoding: identity
                            me_totalPlaySessionCount: '{"portal":5}'
                            lockKey: 6ed43a33-b998-4df0-aac6-2b763c016c13
                            contentType: Resource
                            apoc_num: 1
                            lastUpdatedBy: 874ed8a5-782e-4f6c-8f36-e0288455901e
                            identifier: do_112835336960000000152
                            audience:
                              - Student
                            visibility: Default
                            author: b00bc992ef25f1a9a8d63291e20efc8d
                            consumerId: 4e525af6-2362-4edc-acf5-9ef9d3f72b3b
                            mediaType: content
                            itemSets: []
                            osId: org.ekstep.quiz.app
                            lastPublishedBy: 95e4942d-cbe8-477d-aebd-ad8e6de4bfc8
                            version: 1
                            pragma:
                              - external
                            prevState: Review
                            license: Standard YouTube License
                            size: 38726
                            lastPublishedOn: 2019-08-26T10:02:47.128+00:00
                            concepts: []
                            name: Basic Geometrical ideas
                            status: Live
                            code: 6a3b478c-0665-4069-b7a4-d93902e4c721
                            apoc_json: '{"batch": true}'
                            methods: []
                            streamingUrl: https://www.youtube.com/watch?v=dQxczxQmV_k
                            medium:
                              - English
                            posterImage: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_112835334818643968148/artifact/06_maths_book_1566813333849.jpg
                            idealScreenSize: normal
                            createdOn: 2019-08-26T09:59:53.75+00:00
                            contentDisposition: online
                            lastUpdatedOn: 2019-08-26T10:02:46.685+00:00
                            SYS_INTERNAL_LAST_UPDATED_ON: 2020-02-25T12:33:40.719+00:00
                            dialcodeRequired: No
                            creator: Creation
                            lastStatusChangedOn: 2019-08-26T10:02:47.592+00:00
                            createdFor:
                              - ORG_001
                            os:
                              - All
                            libraries: []
                            pkgVersion: 1
                            versionKey: 1566813766685
                            me_totalTimeSpent: '{"portal":137}'
                            idealScreenDensity: hdpi
                            s3Key: ecar_files/do_112835336960000000152/basic-geometrical-ideas_1566813767133_do_112835336960000000152_1.0.ecar
                            framework: NCFCOPY
                            lastSubmittedOn: 2019-08-26T10:00:23.026+00:00
                            createdBy: 874ed8a5-782e-4f6c-8f36-e0288455901e
                            compatibilityLevel: 4
                            board: CBSE
                            resourceType: Learn
                            index: 1
                            depth: 2
                            parent: do_1131680626585518081116
                            objectType: Content
                        contentDisposition: inline
                        lastUpdatedOn: 2020-12-08T12:12:19.561+00:00
                        contentEncoding: gzip
                        contentType: CourseUnit
                        dialcodeRequired: No
                        trackable:
                          enabled: No
                          autoBatch: No
                        identifier: do_1131680626585518081116
                        lastStatusChangedOn: 2020-12-08T12:12:03.749+00:00
                        audience:
                          - Student
                        os:
                          - All
                        visibility: Parent
                        index: 1
                        mediaType: content
                        osId: org.ekstep.launcher
                        languageCode:
                          - en
                        version: 2
                        versionKey: 1607429523749
                        license: CC BY 4.0
                        idealScreenDensity: hdpi
                        framework: NCFCOPY
                        depth: 1
                        compatibilityLevel: 1
                        name: Untitled Course Unit
                        status: Live
                        lastPublishedOn: 2020-12-08T12:12:20.303+00:00
                        pkgVersion: 1
                        leafNodesCount: 1
                        leafNodes:
                          - do_112835336960000000152
                        downloadUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar
                        variants: '{"online":{"ecarUrl":"https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540833_do_1131680608828047361113_1.0_online.ecar","size":6598.0},"spine":{"ecarUrl":"https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar","size":109650.0}}'
                      - ownershipType:
                          - createdBy
                        parent: do_1131680608828047361113
                        copyright: Sunbird
                        code: b409d492-97ec-484c-bcb1-a51bbae9c917
                        credentials:
                          enabled: No
                        channel: b00bc992ef25f1a9a8d63291e20efc8d
                        language:
                          - English
                        mimeType: application/vnd.ekstep.content-collection
                        idealScreenSize: normal
                        createdOn: 2020-12-08T12:12:03.748+00:00
                        objectType: Content
                        primaryCategory: Course Unit
                        children:
                          - ownershipType:
                              - createdFor
                            previewUrl: https://www.youtube.com/watch?v=BiagrTl2y4o
                            keywords:
                              - Traingle Inequality
                            subject:
                              - Mathematics
                            downloadUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1126972168312832001322/traingle-inequality_1549953441448_do_1126972168312832001322_1.0.ecar
                            channel: b00bc992ef25f1a9a8d63291e20efc8d
                            questions: []
                            organisation:
                              - Sunbird
                              - QA ORG
                            showNotification: true
                            language:
                              - English
                            variants:
                              spine:
                                ecarUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1126972168312832001322/traingle-inequality_1549953441719_do_1126972168312832001322_1.0_spine.ecar
                                size: 17143
                            mimeType: video/x-youtube
                            apoc_text: APOC
                            appIcon: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_1126972168312832001322/artifact/math_1549943542752.thumb.jpg
                            gradeLevel:
                              - Grade 3
                            primaryCategory: Explanation Content
                            appId: dev.sunbird.portal
                            usesContent: []
                            artifactUrl: https://www.youtube.com/watch?v=BiagrTl2y4o
                            contentEncoding: identity
                            lockKey: 9cb2c75d-6712-4829-853b-ce2a0714dca3
                            contentType: Resource
                            apoc_num: 1
                            lastUpdatedBy: 874ed8a5-782e-4f6c-8f36-e0288455901e
                            identifier: do_1126972168312832001322
                            audience:
                              - Student
                            visibility: Default
                            author: b00bc992ef25f1a9a8d63291e20efc8d
                            consumerId: 9393568c-3a56-47dd-a9a3-34da3c821638
                            mediaType: content
                            itemSets: []
                            osId: org.ekstep.quiz.app
                            lastPublishedBy: 95e4942d-cbe8-477d-aebd-ad8e6de4bfc8
                            pragma:
                              - external
                            prevState: Review
                            license: Standard YouTube License
                            lastPublishedOn: 2019-02-12T06:37:21.448+00:00
                            size: 17141
                            concepts: []
                            name: Traingle Inequality
                            status: Live
                            code: 6aeb10a0-3333-4214-a834-ed98c32ab5eb
                            apoc_json: '{"batch": true}'
                            methods: []
                            streamingUrl: https://www.youtube.com/watch?v=BiagrTl2y4o
                            medium:
                              - English
                            posterImage: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_1126971374955151361222/artifact/math_1549943542752.jpg
                            idealScreenSize: normal
                            createdOn: 2019-02-12T06:33:46.475+00:00
                            contentDisposition: online
                            lastUpdatedOn: 2019-02-12T06:37:20.761+00:00
                            SYS_INTERNAL_LAST_UPDATED_ON: 2019-02-12T06:37:22.237+00:00
                            dialcodeRequired: No
                            owner: QA ORG
                            creator: Creation
                            createdFor:
                              - ORG_001
                              - 0123653943740170242
                            os:
                              - All
                            libraries: []
                            pkgVersion: 1
                            versionKey: 1549953440766
                            idealScreenDensity: hdpi
                            s3Key: ecar_files/do_1126972168312832001322/traingle-inequality_1549953441448_do_1126972168312832001322_1.0.ecar
                            framework: NCFCOPY
                            lastSubmittedOn: 2019-02-12T06:34:32.58+00:00
                            createdBy: 874ed8a5-782e-4f6c-8f36-e0288455901e
                            compatibilityLevel: 4
                            ownedBy: 0123653943740170242
                            board: CBSE
                            resourceType: Learn
                            index: 1
                            depth: 2
                            parent: do_1131680626585436161114
                            objectType: Content
                        contentDisposition: inline
                        lastUpdatedOn: 2020-12-08T12:12:19.561+00:00
                        contentEncoding: gzip
                        contentType: CourseUnit
                        dialcodeRequired: No
                        trackable:
                          enabled: No
                          autoBatch: No
                        identifier: do_1131680626585436161114
                        lastStatusChangedOn: 2020-12-08T12:12:03.748+00:00
                        audience:
                          - Student
                        os:
                          - All
                        visibility: Parent
                        index: 2
                        mediaType: content
                        osId: org.ekstep.launcher
                        languageCode:
                          - en
                        version: 2
                        versionKey: 1607429523748
                        license: CC BY 4.0
                        idealScreenDensity: hdpi
                        framework: NCFCOPY
                        depth: 1
                        compatibilityLevel: 1
                        name: Untitled Course Unit
                        status: Live
                        lastPublishedOn: 2020-12-08T12:12:20.303+00:00
                        pkgVersion: 1
                        leafNodesCount: 1
                        leafNodes:
                          - do_1126972168312832001322
                        downloadUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar
                        variants: '{"online":{"ecarUrl":"https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540833_do_1131680608828047361113_1.0_online.ecar","size":6598.0},"spine":{"ecarUrl":"https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar","size":109650.0}}'
                      - ownershipType:
                          - createdBy
                        parent: do_1131680608828047361113
                        copyright: Sunbird
                        code: cbb27b2a-5e52-4e7e-b22a-e90e388b7a4d
                        credentials:
                          enabled: No
                        channel: b00bc992ef25f1a9a8d63291e20efc8d
                        language:
                          - English
                        mimeType: application/vnd.ekstep.content-collection
                        idealScreenSize: normal
                        createdOn: 2020-12-08T12:12:03.75+00:00
                        objectType: Content
                        primaryCategory: Course Unit
                        children:
                          - ownershipType:
                              - createdFor
                            previewUrl: https://www.youtube.com/watch?v=JAy_CETEyUM
                            keywords:
                              - Perimeter
                            subject:
                              - Mathematics
                            downloadUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1126972421999820801361/perimeter_1549956428598_do_1126972421999820801361_1.0.ecar
                            channel: b00bc992ef25f1a9a8d63291e20efc8d
                            questions: []
                            organisation:
                              - Sunbird
                              - QA ORG
                            showNotification: true
                            language:
                              - English
                            variants:
                              spine:
                                ecarUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1126972421999820801361/perimeter_1549956428849_do_1126972421999820801361_1.0_spine.ecar
                                size: 17132
                            mimeType: video/x-youtube
                            apoc_text: APOC
                            appIcon: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_1126972421999820801361/artifact/math_1549943542752.thumb.jpg
                            gradeLevel:
                              - Grade 7
                            primaryCategory: Explanation Content
                            appId: dev.sunbird.portal
                            usesContent: []
                            artifactUrl: https://www.youtube.com/watch?v=JAy_CETEyUM
                            contentEncoding: identity
                            lockKey: a16c52b4-35c3-473b-a678-fedf12ef8dcc
                            contentType: Resource
                            apoc_num: 1
                            lastUpdatedBy: 874ed8a5-782e-4f6c-8f36-e0288455901e
                            identifier: do_1126972421999820801361
                            audience:
                              - Student
                            visibility: Default
                            author: b00bc992ef25f1a9a8d63291e20efc8d
                            consumerId: 9393568c-3a56-47dd-a9a3-34da3c821638
                            mediaType: content
                            itemSets: []
                            osId: org.ekstep.quiz.app
                            lastPublishedBy: 95e4942d-cbe8-477d-aebd-ad8e6de4bfc8
                            pragma:
                              - external
                            prevState: Review
                            license: Standard YouTube License
                            size: 17132
                            lastPublishedOn: 2019-02-12T07:27:08.597+00:00
                            concepts: []
                            name: Perimeter
                            status: Live
                            code: ad588332-34e1-4b49-a419-9226980bd19c
                            apoc_json: '{"batch": true}'
                            methods: []
                            streamingUrl: https://www.youtube.com/watch?v=JAy_CETEyUM
                            medium:
                              - English
                            posterImage: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_1126971374955151361222/artifact/math_1549943542752.jpg
                            idealScreenSize: normal
                            createdOn: 2019-02-12T07:25:23.239+00:00
                            contentDisposition: online
                            lastUpdatedOn: 2019-02-12T07:27:07.975+00:00
                            SYS_INTERNAL_LAST_UPDATED_ON: 2019-02-12T07:27:09.33+00:00
                            dialcodeRequired: No
                            owner: QA ORG
                            creator: Creation
                            createdFor:
                              - ORG_001
                              - 0123653943740170242
                            os:
                              - All
                            libraries: []
                            pkgVersion: 1
                            versionKey: 1549956427975
                            idealScreenDensity: hdpi
                            s3Key: ecar_files/do_1126972421999820801361/perimeter_1549956428598_do_1126972421999820801361_1.0.ecar
                            framework: NCFCOPY
                            lastSubmittedOn: 2019-02-12T07:25:59.766+00:00
                            createdBy: 874ed8a5-782e-4f6c-8f36-e0288455901e
                            compatibilityLevel: 4
                            ownedBy: 0123653943740170242
                            board: CBSE
                            resourceType: Learn
                            index: 1
                            depth: 2
                            parent: do_1131680626585600001118
                            objectType: Content
                        contentDisposition: inline
                        lastUpdatedOn: 2020-12-08T12:12:19.561+00:00
                        contentEncoding: gzip
                        contentType: CourseUnit
                        dialcodeRequired: No
                        trackable:
                          enabled: No
                          autoBatch: No
                        identifier: do_1131680626585600001118
                        lastStatusChangedOn: 2020-12-08T12:12:03.75+00:00
                        audience:
                          - Student
                        os:
                          - All
                        visibility: Parent
                        index: 3
                        mediaType: content
                        osId: org.ekstep.launcher
                        languageCode:
                          - en
                        version: 2
                        versionKey: 1607429523750
                        license: CC BY 4.0
                        idealScreenDensity: hdpi
                        framework: NCFCOPY
                        depth: 1
                        compatibilityLevel: 1
                        name: Untitled Course Unit
                        status: Live
                        lastPublishedOn: 2020-12-08T12:12:20.303+00:00
                        pkgVersion: 1
                        leafNodesCount: 1
                        leafNodes:
                          - do_1126972421999820801361
                        downloadUrl: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar
                        variants: '{"online":{"ecarUrl":"https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540833_do_1131680608828047361113_1.0_online.ecar","size":6598.0},"spine":{"ecarUrl":"https://sunbirddev.blob.core.windows.net/sunbird-content-dev/ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar","size":109650.0}}'
                    primaryCategory: Course
                    appId: dev.dock.portal
                    contentEncoding: gzip
                    collaborators:
                      - 8454cb21-3ce9-4e30-85b5-fade097880d8
                    lockKey: d5b2627c-1aea-479b-8970-ad2af62eba58
                    totalCompressedSize: 72999
                    mimeTypesCount: '{"application/vnd.ekstep.content-collection":3,"video/x-youtube":3}'
                    contentType: Course
                    contentCredits:
                      - id: 0123653943740170242
                        name: QA ORG
                        type: user
                    trackable:
                      enabled: Yes
                      autoBatch: Yes
                    identifier: do_1131680608828047361113
                    lastUpdatedBy: 8454cb21-3ce9-4e30-85b5-fade097880d8
                    audience:
                      - Student
                    toc_url: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_1131680608828047361113/artifact/do_1131680608828047361113_toc.json
                    visibility: Default
                    contentTypesCount: '{"CourseUnit":3,"Resource":3}'
                    consumerId: 273f3b18-5dda-4a27-984a-060c7cd398d3
                    childNodes:
                      - do_1131680626585600001118
                      - do_1126972421999820801361
                      - do_1126972168312832001322
                      - do_112835336960000000152
                      - do_1131680626585518081116
                      - do_1131680626585436161114
                    mediaType: content
                    osId: org.ekstep.quiz.app
                    lastPublishedBy: Ekstep
                    version: 2
                    license: CC BY 4.0
                    prevState: Draft
                    size: 109650
                    lastPublishedOn: 2020-12-08T12:12:20.303+00:00
                    name: Test Course - 8 Dec
                    status: Live
                    code: org.sunbird.F9fB1d
                    credentials:
                      enabled: Yes
                    prevStatus: Processing
                    description: Enter description for Course
                    posterImage: https://sunbirddev.blob.core.windows.net/sunbird-content-dev/content/do_113115644844154880184/artifact/indian-home-as-per-vastu-1366x768.jpg
                    idealScreenSize: normal
                    createdOn: 2020-12-08T12:08:26.985+00:00
                    batches:
                      - createdFor:
                          - ORG_001
                        endDate:
                        name: Test Course - 8 Dec
                        batchId: 0131680642631516160
                        enrollmentType: open
                        enrollmentEndDate:
                        startDate: 2020-12-08
                        status: 1
                      - createdFor: []
                        endDate: 2021-12-30
                        name: test cert scalability
                        batchId: 0131680712715878401
                        enrollmentType: open
                        enrollmentEndDate: 2021-12-29
                        startDate: 2020-12-08
                        status: 1
                    copyrightYear: 2020
                    contentDisposition: inline
                    lastUpdatedOn: 2020-12-08T12:12:19.561+00:00
                    SYS_INTERNAL_LAST_UPDATED_ON: 2020-12-08T12:12:21.18+00:00
                    dialcodeRequired: No
                    lastStatusChangedOn: 2020-12-08T12:12:21.173+00:00
                    createdFor:
                      - ORG_001
                    creator: Mentor First User
                    os:
                      - All
                    pkgVersion: 1
                    versionKey: 1607429539561
                    idealScreenDensity: hdpi
                    framework: NCFCOPY
                    depth: 0
                    s3Key: ecar_files/do_1131680608828047361113/test-course-8-dec_1607429540479_do_1131680608828047361113_1.0_spine.ecar
                    createdBy: 8454cb21-3ce9-4e30-85b5-fade097880d8
                    compatibilityLevel: 4
                    leafNodesCount: 3
                    userConsent: Yes
                    board: NCERT
                    resourceType: Course
                    c_sunbird_dev_open_batch_count: 2
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coursehierarchyapiCoursegethierarchy-404NotFound'
              example:
                id: api.course.hierarchy
                ver: 1.0
                ts: 2020-12-31T08:04:30.467Z
                params:
                  resmsgid: cf67bd30-4b3e-11eb-9b0c-abcfbdf41bc3
                  msgid:
                  status: failed
                  err: RESOURCE_NOT_FOUND
                  errmsg: rootId {{course-id-invalid}} does not exist
                responseCode: RESOURCE_NOT_FOUND
                result: {}
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coursehierarchyapiUpdateCourseHierarchy-500InternalServerError'
              example:
                id: app.error
                ver: 1.0
                ts: 2020-12-31 12:36:40:598+0000
                params:
                  resmsgid:
                  msgid:
                  err: INTERNAL_ERROR
                  status: SERVER_ERROR
                  errmsg: Process failed,please try again later.
                responseCode: SERVER_ERROR
                result: {}
      deprecated: false
      security:
        - bearer: []
  /course/v1/hierarchy/update:
    patch:
      tags:
        - Course Hierarchy APIs
      summary: Update Course Hierarchy
      description: >-
        - This API is associated with course hierarchy update on the Sunbird Platform.

        - The endpoint for update course hierarchy is /hierarchy/update

        - The fields marked with an asterisk (*) are mandatory. They cannot be null or empty.
      operationId: UpdateCourseHierarchy
      parameters:
        - name: Content-Type
          in: header
          description: 'The Content Type entity is the media type of the resource.Possible\
          \ media types can be:- \n  - application/json'
          required: true
          style: simple
          schema:
            type: string
            example: application/json
        - name: Authorization
          in: header
          description: To make use of the API, you require authorization. Raise a request  to the administrator for the use of the API. You will receive the authorization key. Specify the key received, here.
          required: true
          style: simple
          schema:
            type: string
            example: '{{api-key}}'
        - name: X-Authenticated-User-Token
          in: header
          description: The alphanumeric string to access the API
          required: true
          style: simple
          schema:
            type: string
            example: '{{authToken}}'
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/coursehierarchyapiUpdateCourseHierarchyRequest'
            example:
              request:
                data:
                  nodesModified:
                    b9a50833-eff6-4ef5-a2a4-2413f2d51f6c:
                      isNew: true
                      root: false
                      metadata:
                        mimeType: application/vnd.ekstep.content-collection
                        contentType: TextBookUnit
                        code: kp.citrus
                        name: Test_CourseUnit_1
                        description: Test_CourseUnit_desc_1
                        primaryCategory: Textbook Unit
                        additionalCategories:
                          - Textbook
                    b9a50833-eff6-4ef5-a2a4-2413f2d51f6d:
                      isNew: true
                      root: false
                      metadata:
                        mimeType: application/vnd.ekstep.content-collection
                        contentType: TextBookUnit
                        code: kp.citrus
                        name: Test_Course_SubUnit_name_1
                        description: Test_CourseSubUnit_desc_1
                        primaryCategory: Textbook Unit
                        additionalCategories:
                          - Textbook
                  hierarchy:
                    do_113115600734994432116:
                      children:
                        - b9a50833-eff6-4ef5-a2a4-2413f2d51f6d
                        - b9a50833-eff6-4ef5-a2a4-2413f2d51f6c
                      root: true
                    b9a50833-eff6-4ef5-a2a4-2413f2d51f6c:
                      children:
                        - do_1131147758996520961332
                      root: false
        required: true
      responses:
        200:
          description: 'SUCCESS. The Course Update Hierarchy was successful!'
          headers: {}
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coursehierarchyapiUpdateCourseHierarchy-success'
              example:
                id: api.course.hierarchy.update
                ver: 3.0
                ts: 2020-12-31T12:03:39ZZ
                params:
                  resmsgid: 300dfe2f-715c-4291-ba36-fe2f3e454722
                  msgid:
                  err:
                  status: successful
                  errmsg:
                responseCode: OK
                result:
                  content_id: do_113115600734994432116
                  identifiers:
                    b9a50833-eff6-4ef5-a2a4-2413f2d51f6c: do_1131843376694067201190
                    b9a50833-eff6-4ef5-a2a4-2413f2d51f6d: do_1131843376676208641188
        404:
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coursehierarchyapiUpdateCourseHierarchy-404NotFound'
              example:
                id: api.course.hierarchy.update
                ver: 3.0
                ts: 2020-12-31T12:22:25ZZ
                params:
                  resmsgid: eb3acb81-f54d-48f5-88e2-67417f0c9d56
                  msgid:
                  err: NOT_FOUND
                  status: failed
                  errmsg: "Error! Node(s) doesn't Exists. | [Invalid Node Id.]: do_113115600734994432116-123"
                responseCode: RESOURCE_NOT_FOUND
                result:
                  messages:
        500:
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/coursehierarchyapiUpdateCourseHierarchy-500InternalServerError'
              example:
                id: api.course.hierarchy.update
                ver: 3.0
                ts: 2020-12-31T12:03:39ZZ
                params:
                  resmsgid:
                  msgid:
                  err: INTERNAL_ERROR
                  status: SERVER_ERROR
                  errmsg: Process failed,please try again later.
                responseCode: SERVER_ERROR
                result: {}
      deprecated: false
      security:
        - bearer: []
components:
  schemas:
    coursehierarchyapiParams:
      title: Params
      required:
        - resmsgid
        - msgid
        - err
        - status
        - errmsg
      type: object
      properties:
        resmsgid:
          type: string
          nullable: true
        msgid:
          type: string
          nullable: true
        err:
          type: string
        status:
          type: string
        errmsg:
          type: string
    coursehierarchyapiCoursegethierarchy-404NotFound:
      title: Coursegethierarchy-404NotFound
      required:
        - id
        - ver
        - ts
        - params
        - responseCode
        - result
      type: object
      properties:
        id:
          type: string
        ver:
          type: string
        ts:
          type: string
        params:
          $ref: '#/components/schemas/coursehierarchyapiParams1'
        responseCode:
          type: string
        result:
          type: object
    coursehierarchyapiParams1:
      title: Params1
      required:
        - resmsgid
        - msgid
        - status
        - err
        - errmsg
      type: object
      properties:
        resmsgid:
          type: string
        msgid:
          type: string
          nullable: true
        status:
          type: string
        err:
          type: string
        errmsg:
          type: string
    coursehierarchyapiCoursegethierarchy-Success:
      title: Coursegethierarchy-Success
      required:
        - id
        - ver
        - ts
        - params
        - responseCode
        - result
      type: object
      properties:
        id:
          type: string
        ver:
          type: string
        ts:
          type: string
        params:
          $ref: '#/components/schemas/coursehierarchyapiParams2'
        responseCode:
          type: string
        result:
          $ref: '#/components/schemas/coursehierarchyapiResult'
    coursehierarchyapiParams2:
      title: Params2
      required:
        - resmsgid
        - msgid
        - status
        - err
        - errmsg
      type: object
      properties:
        resmsgid:
          type: string
        msgid:
          type: string
        status:
          type: string
        err:
          type: string
          nullable: true
        errmsg:
          type: string
          nullable: true
    coursehierarchyapiResult:
      title: Result
      required:
        - content
      type: object
      properties:
        content:
          $ref: '#/components/schemas/coursehierarchyapiContent'
    coursehierarchyapiContent:
      title: Content
      type: object
      properties:
        ownershipType:
          type: array
          items:
            type: string
          description: ''
        copyright:
          type: string
        keywords:
          type: array
          items:
            type: string
          description: ''
        channel:
          type: string
        downloadUrl:
          type: string
        organisation:
          type: array
          items:
            type: string
          description: ''
        language:
          type: array
          items:
            type: string
          description: ''
        mimeType:
          type: string
        variants:
          type: object
        leafNodes:
          type: array
          items:
            type: string
          description: ''
        c_sunbird_dev_private_batch_count:
          type: integer
          format: int32
        objectType:
          type: string
        appIcon:
          type: string
        children:
          type: array
          items:
            $ref: '#/components/schemas/coursehierarchyapiChild'
          description: ''
        primaryCategory:
          type: string
        appId:
          type: string
        contentEncoding:
          type: string
        collaborators:
          type: array
          items:
            type: string
          description: ''
        lockKey:
          type: string
        totalCompressedSize:
          type: integer
          format: int32
        mimeTypesCount:
          type: string
        contentType:
          type: string
        contentCredits:
          type: array
          items:
            type: object
          description: 'List of objects'
        trackable:
          $ref: '#/components/schemas/coursehierarchyapiTrackable'
        identifier:
          type: string
        lastUpdatedBy:
          type: string
        audience:
          type: array
          items:
            type: string
          description: ''
        toc_url:
          type: string
        visibility:
          type: string
        contentTypesCount:
          type: string
        consumerId:
          type: string
        childNodes:
          type: array
          items:
            type: string
          description: ''
        mediaType:
          type: string
        osId:
          type: string
        lastPublishedBy:
          type: string
        version:
          type: integer
          format: int32
        license:
          type: string
        prevState:
          type: string
        size:
          type: integer
          format: int32
        lastPublishedOn:
          type: string
        name:
          type: string
        status:
          type: string
        code:
          type: string
        credentials:
          $ref: '#/components/schemas/coursehierarchyapiCredentials'
        prevStatus:
          type: string
        description:
          type: string
        posterImage:
          type: string
        idealScreenSize:
          type: string
        createdOn:
          type: string
        batches:
          type: array
          items:
            $ref: '#/components/schemas/coursehierarchyapiBatch'
          description: ''
        copyrightYear:
          type: integer
          format: int32
        contentDisposition:
          type: string
        lastUpdatedOn:
          type: string
        SYS_INTERNAL_LAST_UPDATED_ON:
          type: string
        dialcodeRequired:
          type: string
        lastStatusChangedOn:
          type: string
        createdFor:
          type: array
          items:
            type: string
          description: ''
        creator:
          type: string
        os:
          type: array
          items:
            type: string
          description: ''
        pkgVersion:
          type: integer
          format: int32
        versionKey:
          type: string
        idealScreenDensity:
          type: string
        framework:
          type: string
        depth:
          type: integer
          format: int32
        s3Key:
          type: string
        createdBy:
          type: string
        compatibilityLevel:
          type: integer
          format: int32
        leafNodesCount:
          type: integer
          format: int32
        userConsent:
          type: string
        board:
          type: string
        resourceType:
          type: string
        c_sunbird_dev_open_batch_count:
          type: integer
          format: int32
    coursehierarchyapiChild:
      title: Child
      type: object
      description: Child Object metadata
    coursehierarchyapiCredentials:
      title: Credentials
      type: object
      properties:
        enabled:
          type: string
    coursehierarchyapiTrackable:
      title: Trackable
      type: object
      properties:
        enabled:
          type: string
        autoBatch:
          type: string
    coursehierarchyapiBatch:
      title: Batch
      type: object
      properties:
        createdFor:
          type: array
          items:
            type: string
          description: ''
        endDate:
          type: string
          nullable: true
        name:
          type: string
        batchId:
          type: string
        enrollmentType:
          type: string
        enrollmentEndDate:
          type: string
          nullable: true
        startDate:
          type: string
        status:
          type: integer
          format: int32
    coursehierarchyapiUpdateCourseHierarchyRequest:
      title: UpdateCourseHierarchyRequest
      required:
        - request
      type: object
      properties:
        request:
          $ref: '#/components/schemas/coursehierarchyapiRequest'
    coursehierarchyapiRequest:
      title: Request
      required:
        - data
      type: object
      properties:
        data:
          $ref: '#/components/schemas/coursehierarchyapiData'
    coursehierarchyapiData:
      title: Data
      required:
        - nodesModified
        - hierarchy
      type: object
      properties:
        nodesModified:
          $ref: '#/components/schemas/coursehierarchyapiNodesModified'
        hierarchy:
          $ref: '#/components/schemas/coursehierarchyapiHierarchy'
    coursehierarchyapiNodesModified:
      title: NodesModified
      type: object
      properties:
        coursehierarchyapidummy-id-1:
          $ref: '#/components/schemas/coursehierarchyapidummy-id-1'
        coursehierarchyapidummy-id-2:
          $ref: '#/components/schemas/coursehierarchyapidummy-id-2'
    coursehierarchyapidummy-id-1:
      title: dummy-id-1
      description: 'Dummy id'
      required:
        - isNew
        - root
        - metadata
      type: object
      properties:
        isNew:
          type: boolean
        root:
          type: boolean
        metadata:
          $ref: '#/components/schemas/coursehierarchyapiMetadata'
    coursehierarchyapiMetadata:
      title: Metadata
      type: object
      properties:
        mimeType:
          type: string
        contentType:
          type: string
        code:
          type: string
        name:
          type: string
        description:
          type: string
        primaryCategory:
          type: string
        additionalCategories:
          type: array
          items:
            type: string
          description: ''
    coursehierarchyapidummy-id-2:
      title: dummy-id-2
      description: 'Dummy id'
      required:
        - isNew
        - root
        - metadata
      type: object
      properties:
        isNew:
          type: boolean
        root:
          type: boolean
        metadata:
          $ref: '#/components/schemas/coursehierarchyapiMetadata'
    coursehierarchyapiHierarchy:
      title: Hierarchy
      type: object
      properties:
        coursehierarchyapiroot-id:
          $ref: '#/components/schemas/coursehierarchyapiroot-id'
        coursehierarchyapidummy-id-1:
          $ref: '#/components/schemas/coursehierarchyapidummy-id-1-hierarchy'
    coursehierarchyapiroot-id:
      title: root-id
      required:
        - root
      type: object
      properties:
        children:
          type: array
          items:
            type: string
          description: ''
        root:
          type: boolean
    coursehierarchyapidummy-id-1-hierarchy:
      title: dummy-id-1-hierarchy
      required:
        - root
      type: object
      properties:
        children:
          type: array
          items:
            type: string
          description: ''
        root:
          type: boolean
    coursehierarchyapiUpdateCourseHierarchy-500InternalServerError:
      title: UpdateCourseHierarchy-500InternalServerError
      required:
        - id
        - ver
        - ts
        - params
        - responseCode
        - result
      type: object
      properties:
        id:
          type: string
        ver:
          type: string
        ts:
          type: string
        params:
          $ref: '#/components/schemas/coursehierarchyapiParams'
        responseCode:
          type: string
        result:
          type: object
    coursehierarchyapiUpdateCourseHierarchy-success:
      title: UpdateCourseHierarchy-success
      required:
        - id
        - ver
        - ts
        - params
        - responseCode
        - result
      type: object
      properties:
        id:
          type: string
        ver:
          type: string
        ts:
          type: string
        params:
          $ref: '#/components/schemas/coursehierarchyapiParams4'
        responseCode:
          type: string
        result:
          $ref: '#/components/schemas/coursehierarchyapiResult1'
    coursehierarchyapiParams4:
      title: Params4
      required:
        - resmsgid
        - msgid
        - err
        - status
        - errmsg
      type: object
      properties:
        resmsgid:
          type: string
        msgid:
          type: string
          nullable: true
        err:
          type: string
          nullable: true
        status:
          type: string
        errmsg:
          type: string
          nullable: true
    coursehierarchyapiResult1:
      title: Result1
      required:
        - content_id
        - identifiers
      type: object
      properties:
        content_id:
          type: string
        identifiers:
          $ref: '#/components/schemas/coursehierarchyapiIdentifiers'
    coursehierarchyapiIdentifiers:
      title: Identifiers
      required:
        - b9a50833-eff6-4ef5-a2a4-2413f2d51f6c
        - b9a50833-eff6-4ef5-a2a4-2413f2d51f6d
      type: object
      properties:
        b9a50833-eff6-4ef5-a2a4-2413f2d51f6c:
          type: string
        b9a50833-eff6-4ef5-a2a4-2413f2d51f6d:
          type: string
    coursehierarchyapiUpdateCourseHierarchy-404NotFound:
      title: UpdateCourseHierarchy-404NotFound
      required:
        - id
        - ver
        - ts
        - params
        - responseCode
        - result
      type: object
      properties:
        id:
          type: string
        ver:
          type: string
        ts:
          type: string
        params:
          $ref: '#/components/schemas/coursehierarchyapiParams1'
        responseCode:
          type: string
        result:
          $ref: '#/components/schemas/coursehierarchyapiResult2'
    coursehierarchyapiResult2:
      title: Result2
      required:
        - messages
      type: object
      properties:
        messages:
          type: string
          nullable: true
  securitySchemes:
    bearer:
      type: apiKey
      name: Authorization
      in: header
tags:
  - name: Course Hierarchy APIs
    description: ''